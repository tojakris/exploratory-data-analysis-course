token_secret = "ARfNyH24O0xqRhnCu4BAnQ6JFABbyUC8J5f7YXorOi93T")
homeTL = GET("https://api.twitter.com/1.1/search/tweets.json?q=%23freebandnames&since_id=24012619984051000&max_id=250126199840518145&result_type=mixed&count=4", sig)
json1 = content(homeTL)
json2 = jsonlite::fromJSON(toJSON(json1))
json2[1,1:4]
library(jsonlite)
json2 = jsonlite::fromJSON(toJSON(json1))
json2[1,1:4]
json2[1,]
json2[1]
json2[2]
json1
homeTL = GET("https://api.twitter.com/1.1/search/tweets.json?q=adoptadog", sig)
json1 = content(homeTL)
json2 = jsonlite::fromJSON(toJSON(json1))
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
library(lattice)
library(datasets)
data(airquality)
p <- xyplot(Ozone ~ Wind | factor(Month), data = airquality)
print(p)
library(datasets)
data(airquality)
qplot(Wind, Ozone, data = airquality)
qplot(Wind, Ozone, data = airquality, geom = "smooth")
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
library(ggplot2)
g <- ggplot(movies, aes(votes, rating))
print(g)
qplot(votes, rating, data = movies)
qplot(votes, rating, data = movies, smooth = "loess")
qplot(votes, rating, data = movies) + stats_smooth("loess")
qplot(votes, rating, data = movies, panel = panel.loess)
qplot(votes, rating, data = movies) + geom_smooth()
qplot(votes, rating, data = movies) + geom_smooth()
set.seed(13435)
X <- data.frame("var1"=sample(1:5),"var2"=sample(6:10),"var3"=sample(11:15))
View(X)
X <- X[sample(1:5),]
View(X)
X$var2[c(1,3)] = NA
View(X)
X
set.seed(13435)
X <- data.frame("var1"=sample(1:5),"var2"=sample(6:10),"var3"=sample(11:15))
X
X <- X[sample(1:5),]
X
X$var2[c(1,3)] = NA
X
X[,1]
X[,"var1"]
X[1:2,"var2"]
X[(X$var1 <= 3 & X$var3 > 11),]
X[(X$var1 <= 3 | X$var3 > 15),]
X[which(X$var2 > 8),]
X[(X$var2 > 8),]
X[X$var2 > 8,]
sort(X$var1)
sort(X$var1,decreasing=TRUE)
sort(X$var2,na.last=TRUE)
X[order(X$var1),]
X[order(X$var1,X$var3),]
library(plyr)
arrange(X,var1)
arrange(X,desc(var1))
X$var4 <- rnorm(5)
X
Y <- cbind(X,rnorm(5))
Y
if(!file.exists("./data")){
dir.create("./data")
}
fileUrl <- "https://data.baltimorecity.gov/api/views/k5ry-ef3g/rows.csv?accessType=DOWNLOAD"
download.file(fileUrl,destfile="./data/restaurants.csv",method="curl")
restData <- read.csv("./data/restaurants.csv")
head(restData,n=3)
tail(restData,n=3)
summary(restData)
str(restData)
quantile(restData$councilDistrict,na.rm=TRUE)
quantile(restData$councilDistrict,probs=c(0.5,0.75,0.9))
table(restData$zipCode,useNA="ifany")
table(restData$councilDistrict,restData$zipCode)
sum(is.na(restData$councilDistrict))
any(is.na(restData$councilDistrict))
all(restData$zipCode > 0)
colSums(is.na(restData))
all(colSums(is.na(restData))==0)
table(restData$zipCode %in% c("21212"))
table(restData$zipCode %in% c("21212","21213"))
restData[restData$zipCode %in% c("21212","21213"),]
data(UCBAdmissions)
library(datasets)
data(UCBAdmissions)
DF = as.data.frame(
DF = as.data.frame(UCBAdmissions)
summary(DF)
xt <- xtabs(Freq ~ Gender + Admit,data=DF)
xt
warpbreaks$replicate <- rep(1:9, len = 54)
xt = xtabs(breaks ~.,data=warpbreaks)
xt
ftable(xt)
head(warpbreaks)
fakeData = rnorm(1e5)
object.size(fakeData)
print(object.size(fakeData),units="Mb")
library(data.table)
install.packages("data.table")
library(data.table)
opts_chunk$set(message = F, error = F, warning = F, comment = NA, fig.align = 'center', dpi = 100, tidy = F, cache.path = '.cache/', fig.path = 'fig/', cache=TRUE)
install.packages("fields")
library("BiocInstaller", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
install.packages("lars")
install.packages("makeslides")
set.seed(1234)
par(mar = c(0, 0, 0, 0))
?par
x <- rnorm(12, mean = rep(1:3, each = 4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1, 2, 1), each = 4), sd = 0.2)
summary(x)
summary(y)
plot(x, y, col = "blue", pch = 19, cex = 2)
?plot
plot(x, y, col = "blue", pch = 19, cex = 0.5)
plot(x, y, col = "blue", pch = 19, cex = 2)
text(x + 0.05, y + 0.05, labels = as.character(1:12))
dataFrame <- data.frame(x = x, y = y)
dist(dataFrame)
dist(dataFrame)
dist(dataFrame)
dataFrame <- data.frame(x = x, y = y)
distxy <- dist(dataFrame)
distxy
hClustering <- hclust(distxy)
plot(hClustering)
?par
par(mar = c(5, 4, 4, 2) + 0.1)
plot(hClustering)
myplclust <- function(hclust, lab = hclust$labels, lab.col = rep(1, length(hclust$labels)),
hang = 0.1, ...) {
## modifiction of plclust for plotting hclust objects *in colour*!  Copyright
## Eva KF Chan 2009 Arguments: hclust: hclust object lab: a character vector
## of labels of the leaves of the tree lab.col: colour for the labels;
## NA=default device foreground colour hang: as in hclust & plclust Side
## effect: A display of hierarchical cluster with coloured leaf labels.
y <- rep(hclust$height, 2)
x <- as.numeric(hclust$merge)
y <- y[which(x < 0)]
x <- x[which(x < 0)]
x <- abs(x)
y <- y[order(x)]
x <- x[order(x)]
plot(hclust, labels = FALSE, hang = hang, ...)
text(x = x, y = y[hclust$order] - (max(hclust$height) * hang), labels = lab[hclust$order],
col = lab.col[hclust$order], srt = 90, adj = c(1, 0.5), xpd = NA, ...)
}
dataFrame <- data.frame(x = x, y = y)
distxy <- dist(dataFrame)
hClustering <- hclust(distxy)
myplclust(hClustering, lab = rep(1:3, each = 4), lab.col = rep(1:3, each = 4))
dataFrame <- data.frame(x = x, y = y)
set.seed(143)
dataMatrix <- as.matrix(dataFrame)[sample(1:12), ]
View(dataMatrix)
heatmap(dataMatrix)
set.seed(1234)
par(mar = c(0, 0, 0, 0))
x <- rnorm(12, mean = rep(1:3, each = 4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1, 2, 1), each = 4), sd = 0.2)
plot(x, y, col = "blue", pch = 19, cex = 2)
text(x + 0.05, y + 0.05, labels = as.character(1:12))
dataFrame <- data.frame(x, y)
set.seed(1234)
par(mar = c(0, 0, 0, 0))
x <- rnorm(12, mean = rep(1:3, each = 4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1, 2, 1), each = 4), sd = 0.2)
plot(x, y, col = "blue", pch = 19, cex = 2)
text(x + 0.05, y + 0.05, labels = as.character(1:12))
dataFrame <- data.frame(x, y)
kmeansObj <- kmeans(dataFrame, centers = 3)
names(kmeansObj)
kmeansObj$cluster
kmeansObj <- kmeans(dataFrame, centers = 4)
kmeansObj$cluster
par(mar = rep(0.2, 4))
plot(x, y, col = kmeansObj$cluster, pch = 19, cex = 2)
points(kmeansObj$centers, col = 1:3, pch = 3, cex = 3, lwd = 3)
kmeansObj <- kmeans(dataFrame, centers = 5)
plot(x, y, col = kmeansObj$cluster, pch = 19, cex = 2)
dataFrame <- data.frame(x, y)
kmeansObj <- kmeans(dataFrame, centers = 3)
names(kmeansObj)
kmeansObj$cluster
par(mar = rep(0.2, 4))
plot(x, y, col = kmeansObj$cluster, pch = 19, cex = 2)
points(kmeansObj$centers, col = 1:3, pch = 3, cex = 3, lwd = 3)
## K-means clustering - example
set.seed(1234)
par(mar = c(0, 0, 0, 0))
x <- rnorm(12, mean = rep(1:3, each = 4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1, 2, 1), each = 4), sd = 0.2)
plot(x, y, col = "blue", pch = 19, cex = 2)
text(x + 0.05, y + 0.05, labels = as.character(1:12))
## kmeans()
#   Important parameters: x, centers, iter.max, nstart
dataFrame <- data.frame(x, y)
kmeansObj <- kmeans(dataFrame, centers = 3)
names(kmeansObj)
kmeansObj$cluster
par(mar = rep(0.2, 4))
plot(x, y, col = kmeansObj$cluster, pch = 19, cex = 2)
points(kmeansObj$centers, col = 1:3, pch = 3, cex = 3, lwd = 3)
set.seed(1234)
dataMatrix <- as.matrix(dataFrame)[sample(1:12), ]
kmeansObj2 <- kmeans(dataMatrix, centers = 3)
par(mfrow = c(1, 2), mar = c(2, 4, 0.1, 0.1))
image(t(dataMatrix)[, nrow(dataMatrix):1], yaxt = "n")
image(t(dataMatrix)[, order(kmeansObj$cluster)], yaxt = "n")
setwd("/Users/silvia/Estudiar/Data Science/Courses/Coursera - 04 Exploratory Data Analysis/exploratory-data-analysis-course/CourseProject2")
print("This will likely take a few seconds. Be patient!")
NEI <- readRDS("./exdata-data-NEI_data/summarySCC_PM25.rds")
SCC <- readRDS("./exdata-data-NEI_data/Source_Classification_Code.rds")
str(NEI)
str(SCC)
table(NEI$year)
nrow(NEI)
1108469 + 1698677 +1713850 +1976655
tapply(NEI$year, NEI$Emissions, sum)
tapply(NEI$Emissions,NEI$year, sum)
library(plyr)
ddply(NEI,.(year),summarize,sum=sum(count))
?ddply
ddply(NEI,.(year), summarize, sum=sum(Emissions))
year.emissions <- ddply(NEI,.(year), summarize, sum=sum(Emissions))
View(year.emissions)
?hist
hist(year.emissions$sum, xlab=year.emissions$year)
total.emissions <- ddply(NEI,.(year), summarize, total=sum(Emissions))
hist(total.emissions$total, xlab=total.emissions$year)
hist(total.emissions$total)
plot(total.emissions$total, total.emissions$year)
barplot(total.emissions$total, total.emissions$year)
?barplot
barplot(total.emissions$total)
class(total.emissions)
total.emissions <- as.matrix(ddply(NEI,.(year), summarize, total=sum(Emissions))
total.emissions <- as.matrix(
ddply(NEI,.(year), summarize, total=sum(Emissions)))
View(total.emissions)
barplot(total.emissions)
View(total.emissions)
class(total.emissions)
barplot(total.emissions$total, total.emissions$year)
barplot(total.emissions[,2], total.emissions[,1])
plot(total.emissions[,2], total.emissions[,1])
plot(total.emissions[,1], total.emissions[,2]
plot(total.emissions[,1], total.emissions[,2])
?plot
plot(total.emissions[,1], total.emissions[,2], type=l)
plot(total.emissions[,1], total.emissions[,2], type="l")
total.emissions <- ddply(NEI,.(year), summarize, total=sum(Emissions))
plot(total.emissions[,1], total.emissions[,2], type="l")
print("This will likely take a few seconds. Be patient!")
NEI <- readRDS("./exdata-data-NEI_data/summarySCC_PM25.rds")
SCC <- readRDS("./exdata-data-NEI_data/Source_Classification_Code.rds")
head(NEI)
sum(NEI$Emissions)
library(plyr)
total.emissions <- ddply(NEI,.(year), summarize, total=sum(Emissions))
sum(total.emissions$total)
str(total.emissions)
total.emissions <- ddply(NEI,.(as.factor(year), summarize, total=sum(Emissions))
total.emissions <- ddply(NEI,.(as.factor(year)), summarize, total=sum(Emissions))
str(total.emissions)
?colnames
colnames <- c("year","total")
colnames(total.emissions) <- colnames
total.emissions <- ddply(NEI,.(as.factor(year)), summarize, total=sum(Emissions)/1000000)
View(total.emissions)
colnames <- c("year","million.tonnes")
colnames(total.emissions) <- colnames
total.emissions <- ddply(NEI,.(as.factor(year)), summarize, total=sum(Emissions)/1000000)
colnames <- c("year","million.tonnes")
colnames(total.emissions) <- colnames
barplot(total.emissions$million.tonnes, total.emissions$year)
barplot( total.emissions$year, total.emissions$million.tonnes)
plot( total.emissions$year, total.emissions$million.tonnes)
?plot
plot( total.emissions$year, total.emissions$million.tonnes, type="h")
plot( total.emissions$year, total.emissions$million.tonnes, type="s")
?barplot
barplot(total.emissions)
total.emissions <- ddply(NEI,.(as.character(year)), summarize, total=sum(Emissions)/1000000)
colnames <- c("year","million.tonnes")
colnames(total.emissions) <- colnames
barplot(total.emissions)
plot(total.emissions$year, total.emissions$million.tonnes, type="s")
plot(total.emissions$year, total.emissions$million.tonnes, type="h")
total.emissions <- ddply(NEI,.(as.factor(year)), summarize, total=sum(Emissions)/1000000)
colnames <- c("year","million.tonnes")
colnames(total.emissions) <- colnames
plot(total.emissions$year, total.emissions$million.tonnes, type="h")
hist(total.emissions$total,
col = "red",
main = "Global Active Power",
xlab = "Global Active Power (kilowatts)",
cex=0.5)
barplot(total.emissions$total)
total.emissions.matrix <- as.matrix(total.emissions)
barplot(total.emissions.matrix$total)
barplot(total.emissions.matrix[,total])
barplot(total.emissions.matrix[,2])
barplot(total.emissions.matrix[,2],total.emissions.matrix[,1])
barplot(total.emissions.matrix[,1],total.emissions.matrix[,2)
barplot(total.emissions.matrix[,1],total.emissions.matrix[,2])
barplot(total.emissions,
col = total.emissions$year)
barplot(total.emissions$million.tonnes,
col = total.emissions$year)
?barplot
barplot(total.emissions$million.tonnes)
barplot(total.emissions$million.tonnes,
col="blue")
total.emissions <- ddply(NEI,.(as.factor(year)), summarize, total=sum(Emissions))
colnames <- c("year","million.tonnes")
colnames(total.emissions) <- colnames
barplot(total.emissions$million.tonnes,
col="blue",
main="Total emissions from PM2.5 in the United States",
xlab="Years",
ylab="Amount of PM2.5 emitted, in tons")
barplot(total.emissions$million.tons,
col="blue",
main="Total emissions from PM2.5 in the United States",
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons")
total.emissions <- ddply(NEI,.(as.factor(year)), summarize, total=sum(Emissions)/1000000)
colnames <- c("year","million.tons")
colnames(total.emissions) <- colnames
barplot(total.emissions$million.tons,
col="blue",
main="Total emissions from PM2.5 in the United States",
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons")
?axis
barplot(total.emissions$million.tons,
col="blue",
main="Total emissions from PM2.5 in the United States",
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons")
axis(1, total.emissions$year)
total.emissions <- ddply(NEI,.(as.character(year)), summarize, total=sum(Emissions)/1000000)
colnames <- c("year","million.tons")
colnames(total.emissions) <- colnames
barplot(total.emissions$million.tons,
col="blue",
main="Total emissions from PM2.5 in the United States",
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons")
axis(1, total.emissions$year)
axis(1, at=x, total.emissions$year)
barplot(total.emissions$million.tons,
col="blue",
main="Total emissions from PM2.5 in the United States",
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons")
axis(1, at=x, total.emissions$year)
barplot(total.emissions$million.tons,
col="blue",
main="Total emissions from PM2.5 in the United States",
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons")
axis(1, labels=total.emissions$year)
barplot(total.emissions$million.tons,
col="blue",
main="Total emissions from PM2.5 in the United States",
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons",
names.arg=total.emissions$year)
print("This will likely take a few seconds. Be patient!")
NEI <- readRDS("./exdata-data-NEI_data/summarySCC_PM25.rds")
SCC <- readRDS("./exdata-data-NEI_data/Source_Classification_Code.rds")
library(plyr)
total.emissions <- ddply(NEI,.(as.character(year)), summarize, total=sum(Emissions)/1000000)
colnames <- c("year","million.tons")
colnames(total.emissions) <- colnames
barplot(total.emissions$million.tons,
col="blue",
main="Total emissions from PM2.5 in the United States",
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons",
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="blue",
main="Total emissions from PM[2.5] in the United States",
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons",
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="blue",
main=expression(Total emissions from PM[2.5] in the United States),
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons",
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="blue",
main=expression("Total emissions from PM[2.5] in the United States"),
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons",
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="blue",
main=expression("Total emissions from PM"[2.5]" in the United States"),
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons",
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="blue",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab="Amount of PM2.5 emitted, in million tons",
names.arg=total.emissions$year)
?expression
total.emissions <- ddply(NEI,.(as.character(year)), summarize, total=sum(Emissions)/1000000)
colnames <- c("year","million.tons")
colnames(total.emissions) <- colnames
par(ps=12)
barplot(total.emissions$million.tons,
col="blue",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
dev.copy(png, file = "plot1.png")
dev.off()  ## Don't forget to close the PNG device!
par("mar")
?par
par(ps=12, mar=c(5.1,4.3,4.1,2.1))
barplot(total.emissions$million.tons,
col="blue",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
dev.copy(png, file = "plot1.png")
dev.off()  ## Don't forget to close the PNG device!
par(ps=12, mar=c(5.1,5.1,4.1,2.1))
barplot(total.emissions$million.tons,
col="blue",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
dev.copy(png, file = "plot1.png")
dev.off()  ## Don't forget to close the PNG device!
source("plot1.R")
colors()
barplot(total.emissions$million.tons,
col="steelblue3",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="wheat4",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="whitesmoke",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="cadetblue",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="cadetblue1",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="cadetblue2",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="cadetblue3",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
barplot(total.emissions$million.tons,
col="cadetblue4",
main=expression("Total emissions from PM"[2.5]*" in the United States"),
xlab="Years",
ylab=expression("Amount of PM"[2.5]*" emitted, in million tons"),
names.arg=total.emissions$year)
source("plot1.R")
